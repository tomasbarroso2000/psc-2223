
#export LD_LIBRARY_PATH=/home/aluno/Documents/PSC-2223SI/serie_3/tests/:$LD_LIBRARY_PATH

#dynamic lib
libdynamic.so: product.o user.o cart.o list.o get_json.o
	gcc -shared -o libdynamic.so product.o user.o cart.o list.o get_json.o -Wall

test_products:
	gcc product_test.c -g -L. -ldynamic -lcurl -ljansson -o test_products -Wall
	
test_users:
	gcc user_test.c -g -L. -ldynamic -lcurl -ljansson -o test_users -Wall

test_carts:
	gcc cart_test.c -g -L. -ldynamic -lcurl -ljansson -o test_carts -Wall
	
test_get_json:
	gcc get_json_test.c -g -L. -ldynamic -lcurl -ljansson -o test_get_json -Wall

product.o: ../products/product.c
	gcc -c -Wall ../products/product.c -o product.o -fpic
	
user.o: ../users/user.c
	gcc -c -Wall ../users/user.c -o user.o -fpic
	
cart.o: ../carts/cart.c
	gcc -c -Wall ../carts/cart.c -o cart.o -fpic
	
list.o: ../list/list.c
	gcc -c -Wall ../list/list.c -o list.o -fpic -fpic
	
get_json.o: ../get_json/get_json.c
	gcc -c -Wall ../get_json/get_json.c -o get_json.o -fpic

clean:
	rm -rf *.o *.is
